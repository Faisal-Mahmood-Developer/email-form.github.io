<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Latest compiled and minified CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>Contact Form</title>
</head>

<style>
 .form-container {
  max-width: 600px;
  margin: auto;
  padding: 30px;
  background-color: #f9f9f9; /* Light background color */
  border: 2px solid #007bff; /* Blue border for a modern look */
  border-radius: 10px; /* Rounded corners */
  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); /* Soft shadow for depth */
}

  .form-heading {
    text-align: center;
    margin-bottom: 20px;
  }

  .form-control:focus {
    border-color: #007bff;
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
  }

  .btn-primary {
    width: 100%;
    padding: 10px;
  }
</style>

<body>
<h2 class="text-center mt-5">Faisal Mahmood</h2>
<p class="text-center">Sending email with JavaScript</p>
  <div class="container my-5 mt-5">
    <div class="form-container">
      <h2 class="form-heading">Contact Us</h2>
      <form id="yourForm" class="needs-validation" novalidate onsubmit="submitForm(event)">
        <div class="mb-3">
          <label for="uname" class="form-label">Name:</label>
          <input type="text" class="form-control" id="uname" placeholder="Enter your name" name="uname" required>
          <div class="invalid-feedback">Please fill out this field.</div>
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Email:</label>
          <input type="email" class="form-control" id="email" placeholder="Enter your email" required>
          <div class="invalid-feedback">Please provide a valid email address.</div>
        </div>

        <div class="mb-3">
          <label for="my_sub" class="form-label">Subject:</label>
          <input type="text" class="form-control" id="my_sub" placeholder="Enter subject" name="subject" required>
          <div class="invalid-feedback">Please fill out this field.</div>
        </div>

        <div class="mb-3">
          <label for="mytext" class="form-label">Message:</label>
          <textarea class="form-control" id="mytext" rows="5" placeholder="Enter your message" required></textarea>
          <div class="invalid-feedback">Please fill out this field.</div>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-primary">Send</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://smtpjs.com/v3/smtp.js"></script>
  <script>
    function submitForm(event) {
      event.preventDefault(); // Prevent the default form submission
  
      // Get form values
      const name = document.getElementById('uname').value;
      const email = document.getElementById('email').value;
      const subject = document.getElementById('my_sub').value;
      const message = document.getElementById('mytext').value;
  
      // Validate the form manually
      if (!name || !email || !subject || !message) {
        alert("Please fill out all fields.");
        return; // Stop the form submission if any field is empty
      }
  
      // Send email using SMTPJS
      Email.send({
        Host: "smtp.elasticemail.com",
        Username: "faisalmahmood3737@gmail.com", 
        Password: "F3D76975569FCC80EDE029CB644806596E3C", 
        SecureToken: "1ed00c6c-3ca4-43f9-ad2d-f372397b9f38",
        To: 'faisalmahmood3737@gmail.com',  // Send to your own email for testing
        From: "faisalmahmood3737@gmail.com",
        Subject: subject,
        Body: `Name: ${name}<br>Email: ${email}<br>Subject: ${subject}<br>Message: ${message}`,
      }).then(
        message => {
          alert(message); // Show success alert
          // Clear form fields after sending the email
          document.getElementById('yourForm').reset();
        }
      );
    }
  
    // Bootstrap form validation
    (function () {
      'use strict'
      var forms = document.querySelectorAll('.needs-validation')
      Array.prototype.slice.call(forms)
        .forEach(function (form) {
          form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }
            form.classList.add('was-validated')
          }, false)
        })
    })()
  </script>
  
</body>

</html>
